# Requirements Archive: v1.0 Lead Engine

**Archived:** 2026-02-27
**Status:** SHIPPED

For current requirements, see `.planning/REQUIREMENTS.md`.

---

# Requirements: Outsignal Lead Engine

**Defined:** 2026-02-26
**Core Value:** Own the lead data pipeline end-to-end so we never pay for the same lead twice and can cancel the $300+/month Clay subscription.

## v1 Requirements

Requirements for initial release. Each maps to roadmap phases.

### Enrichment Pipeline

- [x] **ENRICH-01**: System checks local DB for existing person/company data before calling any paid API (dedup-first)
- [x] **ENRICH-02**: System enriches person data via waterfall strategy — Prospeo → AI Ark → LeadMagic → FindyMail, cheapest source first
- [x] **ENRICH-03**: System enriches company data via waterfall strategy — AI Ark → Firecrawl, with local cache check
- [x] **ENRICH-04**: System finds email addresses via waterfall — Prospeo → LeadMagic → FindyMail
- [x] **ENRICH-05**: System verifies email addresses via LeadMagic before export (hard gate — no unverified emails exported)
- [x] **ENRICH-06**: System tracks enrichment provenance — which source provided which data, timestamp, cost per record
- [x] **ENRICH-07**: System handles batch enrichment asynchronously (not blocked by Vercel 30s timeout)

### AI Normalization & Qualification

- [x] **AI-01**: System normalizes industry/vertical classification via Claude (replace Clay AI)
- [x] **AI-02**: System normalizes company names via Claude (extend existing normalize.ts)
- [x] **AI-03**: System extracts structured fields from unstructured data via Claude (job title standardization, seniority level)
- [x] **AI-04**: System qualifies leads against ICP using Firecrawl + Haiku — crawl prospect's website and classify fit
- [x] **AI-05**: System supports custom AI enrichment prompts per workspace/project (different clients need different personalization and normalization rules)

### Lead Search & Filter

- [x] **SEARCH-01**: User can search people by name, email, company, or job title
- [x] **SEARCH-02**: User can filter people by vertical, enrichment status, workspace, and company
- [x] **SEARCH-03**: User can search companies by name, domain, or vertical
- [x] **SEARCH-04**: User can view enrichment status indicators (enriched/partial/missing) on each record
- [x] **SEARCH-05**: User can paginate through large result sets (14k+ people, 17k+ companies)

### List Building

- [x] **LIST-01**: User can create named target lists scoped to a workspace
- [x] **LIST-02**: User can add people to lists from search results (individually or in bulk)
- [x] **LIST-03**: User can filter and segment leads by ICP criteria to build lists
- [x] **LIST-04**: User can view list contents with enrichment completeness summary

### Export & Integration

- [x] **EXPORT-01**: User can export a list to an EmailBison campaign (direct API push)
- [x] **EXPORT-02**: System enforces email verification gate before export (no unverified emails)
- [x] **EXPORT-03**: User can export a list as CSV for use in other tools

### Provider Integrations

- [x] **PROV-01**: Prospeo API integration — email finding from LinkedIn URL or name+company
- [x] **PROV-02**: AI Ark API integration — person and company data enrichment
- [x] **PROV-03**: LeadMagic API integration — email finding and verification
- [x] **PROV-04**: FindyMail API integration — fallback email finding
- [x] **PROV-05**: Firecrawl integration extended — ICP qualification crawling (reuse existing client)

## v2 Requirements

Deferred to future release. Tracked but not in current roadmap.

### Scoring & Signals

- **SCORE-01**: Lead scoring 1-10 based on signal overlap (cold email framework tiers)
- **SCORE-02**: Signal-based segmentation — filter by signal stacking (hiring + funding + CEO tenure)
- **SCORE-03**: Configurable scoring weights per workspace

### Advanced Features

- **ADV-01**: Enrichment cost transparency — show per-lead API cost, total spend per batch
- **ADV-02**: Provider abstraction layer — pluggable interface for adding new enrichment providers
- **ADV-03**: Integrated copy agent — Writer Agent generates sequences from enriched lead data

## Out of Scope

| Feature | Reason |
|---------|--------|
| Real-time intent signals (RB2B, Warmly, Vector) | High complexity, future milestone |
| LinkedIn automation (HeyReach) | Separate tool, compliance risk |
| Campaign auto-creation and launch | Future milestone — writer agent exists but auto-launch too risky |
| Domain infrastructure management | Handled externally (PlusVibe) |
| CRM integration (HubSpot) | EmailBison is the system of record |
| AI hallucination of facts | AI normalizes real data, never invents contact info |
| Real-time enrichment streaming | Batch is sufficient for cold outbound workflows |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| ENRICH-01 | Phase 1 | Complete |
| ENRICH-06 | Phase 1 | Complete |
| ENRICH-07 | Phase 1 | Complete |
| AI-01 | Phase 1 | Complete |
| AI-02 | Phase 1 | Complete |
| AI-03 | Phase 1 | Complete |
| PROV-01 | Phase 2 | Complete |
| PROV-02 | Phase 2 | Complete |
| PROV-03 | Phase 2 | Complete |
| PROV-04 | Phase 2 | Complete |
| PROV-05 | Phase 2 | Complete |
| ENRICH-02 | Phase 2 | Complete |
| ENRICH-03 | Phase 2 | Complete |
| ENRICH-04 | Phase 2 | Complete |
| AI-04 | Phase 3 | Complete |
| AI-05 | Phase 3 | Complete |
| ENRICH-05 | Phase 3 | Complete |
| SEARCH-01 | Phase 4 | Complete |
| SEARCH-02 | Phase 4 | Complete |
| SEARCH-03 | Phase 4 | Complete |
| SEARCH-04 | Phase 4 | Complete |
| SEARCH-05 | Phase 4 | Complete |
| LIST-01 | Phase 4 | Complete |
| LIST-02 | Phase 6 | Complete |
| LIST-03 | Phase 4 | Complete |
| LIST-04 | Phase 4 | Complete |
| EXPORT-01 | Phase 5 | Complete |
| EXPORT-02 | Phase 5 | Complete |
| EXPORT-03 | Phase 6 | Complete |

**Coverage:**
- v1 requirements: 29 total
- Mapped to phases: 29
- Unmapped: 0

---
*Requirements defined: 2026-02-26*
*Last updated: 2026-02-27 — LIST-02, EXPORT-03 completed (Phase 6)*
